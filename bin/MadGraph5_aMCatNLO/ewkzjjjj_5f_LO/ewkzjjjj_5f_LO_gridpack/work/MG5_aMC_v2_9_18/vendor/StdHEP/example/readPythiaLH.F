      program readPythiaLH
C
C      read in events and histogram contents
C
#include "stdlun.inc"
#include "stdcm1.inc"

      integer lok,ifl,istr,ntries,i
      character*20 filrd

      data filrd/'pythiaLHExample.io'/

C initialize HEP logical units
      lnhwrt=0
      lnhrd=23
      lnhdcy=0
      lnhout=22
      lnhpdf=0
      lnhdmp=0
      open(unit=lnhout,file='readPythiaLH.lpt',status='new')
      call pythiabkem
C...initialize MCFio once only
      call mcfio_init()
C...now open and read events
      call stdxropen(filrd,ntries,istr,lok)
      if(lok.ne.0) write(lnhout,1001) filrd
      if(lok.ne.0) go to 200
      write(lnhout,1002) filrd
      lok = 0
      do while( lok .eq. 0 ) 
          call stdxrd(ifl,istr,lok)
          if(lok.eq.0)then
C... keep looping if this is not a STDHEP record
              if(ifl.eq.4) call pythiaflem
              if(ifl.eq.100) 
     1	           write(lnhout,1003) filrd, generatorname, pdfname
          endif
      enddo
      call stdxend(istr)
 200  continue
C...print histograms
      call houtpu(lnhout)
      call histdo
1001  format(' could not open file ',a20)
1002  format(' file ',a20,' has been opened')
1003  format(/' file ',a20,' was generated by ',a20,' with ',a20)
      end

